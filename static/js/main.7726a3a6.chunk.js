(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(198)},121:function(e,t,a){},127:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=(a(121),a(19)),s=(a(126),a(127),a(75)),m=a.n(s),u=a(99);function l(){return(l=Object(u.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./movies.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var d="LOAD_MOVIES",v="RATE_MOVIE_BY_ID",p="RATE_MOVIE_BY_INDEX",f="SET_RANDOM_RATING",h="SET_SEARCH_TERM",g=function(){return function(e){(function(){return l.apply(this,arguments)})().then(function(t){return e({type:d,payload:t})}).catch(function(e){return console.log(e)})}},y=function e(t,a){var n=E(5e3,1e3);setTimeout(function(){var n=a(),r=E(n.movies.movieList.length,0),i=E(10,1);n.movies.israndomRatingActive&&(t({type:p,payload:{randomIndex:r,randomRating:i}}),e(t,a))},n)},E=function(e,t){return Math.round(Math.random()*(e-1))+t},b=a(199),O=a(202),j=b.a.Meta,w=["1/10","2/10","3/10","4/10","5/10","6/10","7/10","8/10","9/10","10/10"],R=r.a.memo(function(e){var t=Object(c.b)(),a=Object(n.useCallback)(function(a){t({type:v,payload:{id:e.id,rating:a}})},[e,t]);return r.a.createElement(b.a,{className:"movie-item",hoverable:!0,style:{width:360},cover:r.a.createElement("img",{alt:e.name,src:"images/"+e.image})},r.a.createElement(j,{className:"movie-item-title",title:e.name}),r.a.createElement("div",{className:"movie-item-rating"},r.a.createElement(O.a,{count:10,tooltips:w,onChange:a,value:e.rating})))}),T=r.a.memo(function(){var e=Object(c.c)(function(e){return{movieList:e.movies.movieList,searchTerm:e.movies.searchTerm}}),t=e.movieList,a=e.searchTerm,n=t.filter(function(e){return""===a||e.name.toLowerCase().includes(a.toLowerCase())}).map(function(e){return r.a.createElement(R,Object.assign({key:e.id},e))});return r.a.createElement("div",{className:"movie-deck"},n)}),A=a(200),L=a(56),N=a(201),I=function(){var e=Object(c.c)(function(e){return{israndomRatingActive:e.movies.israndomRatingActive,searchTerm:e.movies.searchTerm}}),t=e.searchTerm,a=e.israndomRatingActive,n=Object(c.b)(),i=function(){n(a?{type:f,payload:!1}:function(e,t){e({type:f,payload:!0}),y(e,t)})};return r.a.createElement(A.a,{className:"page-header",title:"My Favourite Movies App"},r.a.createElement("div",{className:"header-content"},r.a.createElement(L.a,{className:"random-button",onClick:function(){return i()},type:a?"danger":"primary"},a?"Stop Random Rating":"Start Random Rating"),r.a.createElement(N.a,{className:"search-input",onChange:function(e){n({type:h,payload:e.target.value})},value:t,size:"default",placeholder:"Search..."})))},M=function(){var e=Object(c.b)();return Object(n.useEffect)(function(){e(g())},[e]),r.a.createElement("div",{className:"wrapper"},r.a.createElement(I,null),r.a.createElement(T,null))},_=a(31),k=a(111),x=a(112),S=a(78),C=a(48),D={movieList:[],sortDirection:"",searchTerm:"",israndomRatingActive:!1};var B=function(e,t,a){var n=e.splice(t,1)[0];n.rating=a;var r;return(r=e.findIndex(function(e){return e.rating<=n.rating}))>-1?e.splice(r,0,n):e.push(n),e},V=Object(_.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{movieList:t.payload,sortDirection:"",searchTerm:"",israndomRatingActive:!1};case v:var a;if((a=e.movieList.findIndex(function(e){return e.id===t.payload.id}))<0)return e;var n=B(e.movieList,a,t.payload.rating);return Object(C.a)({},e,{movieList:Object(S.a)(n)});case p:var r=B(e.movieList,t.payload.randomIndex,t.payload.randomRating);return Object(C.a)({},e,{movieList:Object(S.a)(r)});case h:return Object(C.a)({},e,{searchTerm:t.payload});case f:return Object(C.a)({},e,{israndomRatingActive:t.payload});default:return e}}});var W=function(){var e=[k.a],t=_.applyMiddleware.apply(void 0,e);return Object(_.createStore)(V,Object(x.composeWithDevTools)(t))}(),J=function(){return r.a.createElement(c.a,{store:W},r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,1,2]]]);
//# sourceMappingURL=main.7726a3a6.chunk.js.map